body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#0b0f14;color:#e6edf3;}
body.modalOpen{overflow:hidden}
header{padding:18px 22px;border-bottom:1px solid #223044;background:#0b1220;position:sticky;top:0}
.title{font-size:18px;font-weight:700}
.sub{font-size:12px;color:#97a6b3;margin-top:4px}
main{padding:18px 22px}
.filters{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end;margin-bottom:10px}
label{display:flex;flex-direction:column;gap:6px;font-size:12px;color:#97a6b3}
input,select,textarea{background:#0f1726;color:#e6edf3;border:1px solid #223044;border-radius:10px;padding:8px 10px;min-width:220px}
textarea{min-width:520px}
button{background:#1f6feb;color:white;border:none;border-radius:10px;padding:9px 14px;cursor:pointer}
button:hover{filter:brightness(1.05)}
#status{font-size:12px;color:#97a6b3;margin-left:auto}

.legend{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
.chip{font-size:12px;border:1px solid #223044;border-radius:999px;padding:6px 10px;color:#c9d1d9;background:#0f1726}
.chip-pool{background:#1a1220;border-color:#3a2948}
.chip-late{background:#221a12;border-color:#4a3a1c}
.chip-early{background:#12221a;border-color:#1c4a3a}

.tableWrap{overflow:auto;border:1px solid #223044;border-radius:14px}
table{border-collapse:collapse;width:100%;min-width:1200px}
th,td{border-bottom:1px solid #223044;padding:10px 10px;font-size:12px;white-space:nowrap}
th{position:sticky;top:0;background:#0f1726;text-align:left;color:#97a6b3}
tr:hover{background:#0f1726}

a{color:#58a6ff;text-decoration:none}
a:hover{text-decoration:underline}

/* Pool */
tr.pool{background:#1a1220}
tr.pool:hover{background:#20172a}

/* Forecast mismatch (start+effort var, forecast != due) */
tr.late{background:#221a12}
tr.late:hover{background:#2a2116}

tr.early{background:#12221a}
tr.early:hover{background:#162a21}

.modalBackdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:998}

/* Detail panel is shown as a modal (Azure-like) */
.detail{position:fixed;inset:5vh 6vw;border:1px solid #223044;border-radius:14px;background:#0b1220;padding:14px;z-index:999;overflow:auto;box-shadow:0 10px 40px rgba(0,0,0,.35)}

@media (max-width: 900px){
  .detail{inset:3vh 3vw}
}
.hidden{display:none}
.detailHeader{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.dTitle{font-weight:700}
.dMeta{margin-top:6px;font-size:12px;color:#97a6b3;line-height:1.4}
.cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
.card{border:1px solid #223044;border-radius:14px;background:#0f1726;padding:12px}
.cardTitle{font-weight:700;margin-bottom:10px}
.cardTitle.rowTitle{display:flex;justify-content:space-between;align-items:center;gap:10px}
.miniBtn{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);color:#fff;border-radius:10px;padding:4px 8px;cursor:pointer;font-size:12px;line-height:18px}
.miniBtn:hover{background:rgba(255,255,255,.10)}
.tabRow{display:flex;gap:8px;margin-bottom:10px;flex-wrap:wrap}
.tab{background:#0b1220;border:1px solid #223044;color:#e6edf3;border-radius:999px;padding:7px 12px;font-size:12px;cursor:pointer}
.tab.active{background:#1f6feb;border-color:#1f6feb}
.tabPanel{margin-top:6px}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:8px}
.miniStatus{font-size:12px;color:#97a6b3}
.list{margin-top:10px;max-height:220px;overflow:auto;border-top:1px solid #223044;padding-top:10px}
.item{font-size:12px;color:#c9d1d9;padding:6px 0;border-bottom:1px dashed #223044}
.hint{margin-top:10px;font-size:12px;color:#97a6b3}

/* Description (System.Description) */
.desc{
  font-size:12px;
  color:#c9d1d9;
  cursor:pointer;
  white-space:normal;
  line-height:1.5;
  max-height:780px;
  overflow:auto;
  border-top:1px solid #223044;
  padding-top:10px;
}

.desc img{max-width:100%;height:auto;display:block;margin:6px 0;border-radius:6px}
.desc a{color:#6ea8ff}
.desc p{margin:0 0 6px}


/* Start→Due / Start→ForecastDue uyarıları */
.chip-commitOver{background:#2a1212;border-color:#5a2424}
.chip-forecastOver{background:#221a12;border-color:#4a3a1c}

/* satır uyarıları */
tr.forecastOver{background:#221a12}
tr.forecastOver:hover{background:#2a2116}
tr.commitOver{background:#2a1212}
tr.commitOver:hover{background:#321616}

/* hücre uyarıları (satır renginden bağımsız daha net) */
td.cellCommitOver{background:#3a1616}
td.cellForecastOver{background:#2a2116}


.build{margin-left:8px;font-size:12px;color:#6ea8ff;opacity:.9}


/* Top-level tabs */
.mainTabs{display:flex;gap:10px;flex-wrap:wrap;margin:6px 0 14px 0}
.tabBtn{background:#0f1726;color:#97a6b3;border:1px solid #223044;border-radius:999px;padding:7px 12px;cursor:pointer}
.tabBtn.active{background:#1f6feb;color:#fff;border-color:#1f6feb}

.miniBtn{background:#1f6feb;color:#fff;border:none;border-radius:10px;padding:6px 10px;font-size:12px;cursor:pointer}
.miniBtn:disabled{opacity:.55;cursor:not-allowed}


.reviewOwnerSelect{min-width:260px}


/* Atanacak Maddeler */
.assignFilters .filterRow{display:flex;gap:12px;justify-content:space-between;align-items:flex-end;flex-wrap:wrap;width:100%}
.assignFilters .filterLeft{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end}
.assignFilters .filterRight{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end;max-width:720px}
.assignFilters #assign_status{font-size:12px;color:#97a6b3}
.assignFilters select{min-width:180px}
.assignFilters #assign_assignee{min-width:260px}
.assignFilters .tagOp select{min-width:110px}

/* Inline new item bar (Azure-like) */
.newItemBar{display:flex;align-items:center;gap:8px;padding:6px 8px;border:1px solid rgba(255,255,255,.12);border-radius:10px;background:rgba(255,255,255,.03)}
.newItemPlus{font-weight:700;opacity:.85;margin-right:2px}
.newItemType{min-width:120px}
.newItemPriority{min-width:70px}
.newItemTitle{width:260px;min-width:180px;max-width:420px}
.newItemAdd{padding:6px 10px}

/* Dropdown (Tags) */
.dd{position:relative}
.ddBtn{background:#0f1726;color:#c9d1d9;border:1px solid #223044;border-radius:12px;padding:8px 10px;font-size:13px;cursor:pointer;min-width:140px;text-align:left}
.ddBtn:hover{filter:brightness(1.05)}
.ddMenu{position:absolute;right:0;top:42px;z-index:50;width:420px;max-width:90vw;border:1px solid #223044;border-radius:14px;background:#0b1220;box-shadow:0 10px 30px rgba(0,0,0,.35);padding:10px}
.ddMenu.hidden{display:none}
.ddHead{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.ddMode{display:flex;gap:10px;align-items:center;font-size:12px;color:#97a6b3}
.ddRadio{display:flex;gap:6px;align-items:center;color:#c9d1d9}
.ddRadio input{width:16px;height:16px}
.tagsBox{display:flex;gap:10px;flex-wrap:wrap;max-width:720px;max-height:140px;overflow:auto;padding:10px 12px;border:1px solid #223044;border-radius:14px;background:#0f1726}
.tagItem{display:flex;flex-direction:row;gap:8px;align-items:center;font-size:12px;color:#c9d1d9;white-space:nowrap}
.tagItem input{min-width:auto;width:16px;height:16px;padding:0;border-radius:4px}

.assignSection{margin-top:12px}
.sectionTitle{font-weight:700;margin:12px 0 10px 0;color:#e6edf3}
.cardsGrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px}

.kanban{display:grid;grid-template-columns:repeat(5,minmax(240px,1fr));gap:12px}
@media (max-width:1100px){
  .kanban{grid-template-columns:repeat(2,minmax(240px,1fr))}
}
@media (max-width:680px){
  .kanban{grid-template-columns:1fr}
}

.kanCol{border:1px solid #223044;border-radius:14px;background:#0b1220;display:flex;flex-direction:column;min-height:240px}
.kanHead{display:flex;justify-content:space-between;align-items:center;padding:10px 10px;border-bottom:1px solid #223044;gap:10px}
.kanTitle{font-weight:700;font-size:13px}
.kanActions{display:flex;gap:6px;flex-wrap:wrap;justify-content:flex-end}
.kanSortBtn{background:#0f1726;color:#97a6b3;border:1px solid #223044;border-radius:10px;padding:6px 8px;font-size:12px;cursor:pointer}
.kanSortBtn:hover{filter:brightness(1.05)}
.kanSortBtn.active{background:#1f6feb;color:#fff;border-color:#1f6feb}
.kanBody{padding:10px;display:flex;flex-direction:column;gap:10px;overflow:auto;max-height:72vh}

.aCard{border:1px solid #223044;border-radius:14px;background:#0f1726;padding:10px;display:flex;flex-direction:column;gap:8px}
.aCard.bug{background:rgba(239,68,68,.10);border-color:rgba(239,68,68,.22)}
.aCard.backlog{background:rgba(59,130,246,.10);border-color:rgba(59,130,246,.22)}
.aCard.story{background:rgba(16,185,129,.08);border-color:rgba(16,185,129,.18)}

/* Critical highlighting (Atanacak Maddeler) */
.aCard.critical{border-left:5px solid rgba(245,158,11,.95)}
.aCard.critical .aType{font-weight:700}
.aCard .aCritical{font-size:12px;opacity:.95;padding:6px 8px;border-radius:10px;background:rgba(245,158,11,.12);border:1px solid rgba(245,158,11,.22)}

@keyframes critPulse{0%{box-shadow:0 0 0 0 rgba(245,158,11,.55)}70%{box-shadow:0 0 0 10px rgba(245,158,11,0)}100%{box-shadow:0 0 0 0 rgba(245,158,11,0)}}
.aCard.criticalBlink{animation:critPulse 1.1s ease-out infinite}

.aCard.criticalOverdue{border-left-color:rgba(239,68,68,.95)}
.aCard.criticalOverdue .aCritical{background:rgba(239,68,68,.12);border-color:rgba(239,68,68,.22)}
.aTop{display:flex;justify-content:space-between;align-items:center;gap:10px}
.aId{font-weight:700}
.aType{font-size:12px;color:#97a6b3;border:1px solid #223044;border-radius:999px;padding:3px 8px;background:#0b1220}
.aTitle{font-size:13px;color:#e6edf3;line-height:1.35}
.aMeta{display:flex;gap:8px;flex-wrap:wrap;font-size:12px;color:#97a6b3}
.aState{border:1px solid #223044;border-radius:999px;padding:3px 8px;background:#0b1220}
.aAssignee{border:1px solid #223044;border-radius:999px;padding:3px 8px;background:#0b1220}
.aAssignee.muted{opacity:.75}
.aDates{display:flex;gap:10px;flex-wrap:wrap;font-size:11px;color:#97a6b3;opacity:.95}
.aTags{display:flex;gap:6px;flex-wrap:wrap}
.tagChip{font-size:11px;border:1px solid #223044;border-radius:999px;padding:3px 8px;color:#c9d1d9;background:#0b1220}





.aAssigneePicker{
  border:1px solid #223044;
  border-radius:999px;
  padding:3px 8px;
  font-size:12px;
  line-height:18px;
  cursor:pointer;
  color:#c9d1d9;
  background:#0b1220;
}
.aAssigneePicker.muted{opacity:.7}
.aAssigneePicker:hover{border-color:#3a4b67}
.aAssigneePicker .caret{opacity:.8;margin-left:4px}

.aAssigneeSelect{
  border:1px solid #223044;
  border-radius:999px;
  padding:3px 8px;
  font-size:12px;
  line-height:18px;
  color:#c9d1d9;
  background:#0b1220;
  outline:none;
}
.aAssigneeSelect:focus{border-color:#4d77ff}

/* Kişisel Bazlı Performans */

.perfGrid{display:grid;grid-template-columns:minmax(480px, 2fr) minmax(680px, 3fr);gap:12px;align-items:stretch}
@media (max-width: 1100px){
  .perfGrid{grid-template-columns:1fr}
  .perfRight{position:static}
}
.perfLeft{min-width:0;display:flex;flex-direction:column}
.perfLeft .tableWrap{flex:1;min-height:620px}
.perfRight{position:static;align-self:start}


.perfFilters .filterLeft{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end}
.perfFilters select{min-width:130px}
.perfFilters #perf_user{min-width:280px;max-width:420px}
#perf_status{font-size:12px;color:#97a6b3}
#tbl_perf tbody tr{cursor:pointer}
#tbl_perf tbody tr:hover{background:rgba(255,255,255,.03)}
#tbl_perf tbody tr.active{outline:1px solid #1f6feb;background:rgba(31,111,235,.10)}

.perfChartWrap{margin-top:0}
.chartCard{border:1px solid #223044;border-radius:14px;background:#0b1220;padding:12px}
.chartTitle{font-weight:700;margin-bottom:8px;color:#e6edf3}
.chartCanvasWrap{position:relative;overflow:visible;border:1px solid #223044;border-radius:12px;background:#0f1726;min-height:520px}
.chartCanvasWrap canvas{display:block;width:100%;height:480px}
.tooltip{position:absolute;left:10px;top:10px;z-index:6;max-width:560px;max-height:60vh;overflow:auto;background:#0b1220;border:1px solid #223044;border-radius:12px;padding:10px;font-size:12px;color:#c9d1d9;box-shadow:0 10px 30px rgba(0,0,0,.35);pointer-events:none;white-space:normal;overflow-wrap:anywhere;word-break:break-word}
.tooltip.hidden{display:none}

.tooltip .ttDate{font-weight:700;margin-bottom:6px;color:#e6edf3}
.tooltip .ttGroup{margin-top:8px}
.tooltip .ttHdr{font-weight:700;color:#c9d1d9;margin-bottom:4px}
.tooltip .ttLine{margin-left:12px;line-height:1.35;margin-bottom:2px}


.perfMetrics{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin:10px 0 12px}

/* Done list should follow chart and grow downward */
.perfDoneWrap{margin-top:14px;margin-top:14px;width:100%}

/* Summary table should not require horizontal scrolling */
#tbl_perf{table-layout:fixed;width:100%;min-width:0}
#tbl_perf th,#tbl_perf td{padding:5px 6px;font-size:11.5px}
#tbl_perf th,#tbl_perf td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
#tbl_perf th:nth-child(1),#tbl_perf td:nth-child(1){width:24%;text-align:left}
#tbl_perf th:nth-child(n+2),#tbl_perf td:nth-child(n+2){width:15.2%;text-align:center}
.perfMetrics .metric{border:1px solid #223044;border-radius:12px;padding:8px;background:#0f1726}
.perfMetrics .mLabel{font-size:11px;color:#97a6b3}
.perfMetrics .mVal{font-size:14px;font-weight:700;color:#e6edf3;margin-top:2px}

#tbl_perf_summary th,#tbl_perf_summary td{padding:6px 8px;}


/* Assign card description */
.aDescRow{ display:flex; gap:8px; align-items:flex-start; margin-top:8px; }
.aDescEdit{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.10); color:#fff; border-radius:8px; padding:4px 8px; cursor:pointer; }
.aDescEdit:hover{ background:rgba(255,255,255,.10); }
.aDescText{ flex:1; color:rgba(255,255,255,.78); font-size:12px; line-height:1.35; cursor:pointer; white-space:normal; word-break:break-word; }

/* Assignable - New item inline */
.newItemToggleRow{ margin-top:10px; }
.newItemToggleBtn{ background:transparent; border:1px solid rgba(255,255,255,.18); color:#dbe7ff; padding:6px 10px; border-radius:8px; cursor:pointer; }
.newItemToggleBtn:hover{ border-color: rgba(255,255,255,.35); }
.newItemPanel{ margin-top:8px; }
.newItemInline{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.newItemInline .niSel{ background:#0e1626; color:#dbe7ff; border:1px solid rgba(255,255,255,.15); border-radius:8px; padding:6px 10px; }
.newItemInline .niTitle{ flex:1; min-width:260px; background:#0e1626; color:#fff; border:1px solid rgba(255,255,255,.15); border-radius:8px; padding:7px 10px; }
.niHint{ margin-top:6px; font-size:12px; opacity:.75; }
