<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AZDO Board Metrics MVP</title>
  <link rel="stylesheet" href="/styles.css?v=20260101-review"/>
</head>
<body>
  <header>
    <div class="title">AZDO Board Metrics (MVP)</div>
    <div class="sub">build: 2026-01-01 review-assign2 | Sadece In Progress | Not (Pool) | Forecast ...me <span class="build">build: 2026-01-01 review-assign-v1</span></div>
  </header>

  <main>
    <section class="mainTabs">
      <button id="viewTab_board" class="tabBtn active" type="button">Board</button>
      <button id="viewTab_review" class="tabBtn" type="button">Code Review Ataması</button>
    </section>

    <!-- -------------------- BOARD VIEW -------------------- -->
    <div id="view_board">
      <section class="filters">
        <label>
          Assignee (uniqueName):
          <input id="assignee" placeholder="a@company.com"/>
        </label>

        <label>
          Gösterim:
          <select id="mode">
            <option value="all">Tümü</option>
            <option value="pool">Pool (Not var)</option>
          </select>
        </label>

        <button id="refresh" type="button">Yenile</button>
        <span id="status"></span>
      </section>

      <section class="legend">
        <span class="chip chip-pool">Pool: Not girilmiş</span>
        <span class="chip chip-late">Forecast &gt; Due: gecikme riski</span>
        <span class="chip chip-early">Forecast &lt; Due: erken</span>
        <span class="chip chip-overdue">Start → Due geçmiş</span>
        <span class="chip chip-forecastOverdue">Start → ForecastDue geçmiş</span>
      </section>

      <section class="tableWrap">
        <table id="tbl">
          <thead>
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Assignee</th>
              <th>State</th>
              <th>Effort</th>
              <th>Start</th>
              <th>Due</th>
              <th>Done</th>
              <th>ExpDays</th>
              <th>ForecastDue</th>
              <th>ForecastVar</th>
              <th>Slack</th>
              <th>Pool</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      
    </div>

    <!-- -------------------- CODE REVIEW ASSIGNMENT VIEW -------------------- -->
    <div id="view_review" class="hidden">
      <section class="filters">
<label>
          Assignee filtre (opsiyonel):
          <input id="review_assignee" placeholder="a@company.com"/>
        </label>

        <button id="review_refresh" type="button">Yenile</button>
        <span id="review_status"></span>
      </section>

      <section class="hint">
        Bu liste <b>Ready for Code Rewiew</b> kolonundaki maddelerden gelir. Önce mevcut <b>Review Owner</b> değerini görürsün; yanındaki dropdown ile yeni kişiyi seçip <b>Ata</b> diyebilirsin.
      </section>

      <section class="tableWrap">
        <table id="tbl_review">
          <thead>
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Assignee</th>
              <th>Review Owner</th>
              <th>Review Owner Ata</th>
              <th>State</th>
              <th>Column</th>
              <th>İşlem</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </div>
  

    <!-- -------------------- DETAIL (GLOBAL) -------------------- -->
    <section id="detail" class="detail hidden">
        <div class="detailHeader">
          <div>
            <div id="d_title" class="dTitle"></div>
            <div id="d_meta" class="dMeta"></div>
          </div>
          <button id="close" type="button">Kapat</button>
        </div>

        <div class="cards">
          <div class="card">
            <div class="cardTitle">Not / Yorum</div>

            <div class="subTabs">
              <button id="tab_note" class="subTab active" type="button">Not (Pool)</button>
              <button id="tab_comment" class="subTab" type="button">Yorum</button>
            </div>

            <div id="pane_note" class="pane">
              <textarea id="fb_note" rows="4" placeholder="Maddeyi etkileyen konu / engel / rework / context switch vb. not..."></textarea>
              <button id="sendFb" type="button">Kaydet</button>
              <div id="fb_list" class="list"></div>
            </div>

            <div id="pane_comment" class="pane hidden">
              <textarea id="comment_text" rows="4" placeholder="Azure DevOps work item yorumuna eklenecek metin..."></textarea>
              <button id="sendComment" type="button">Yorum Yap</button>
              <div class="hint">Yorum, Azure DevOps Discussion/Comments kısmına gider.</div>
            </div>
          </div>

          <div class="card">
            <div class="cardTitle">Açıklama</div>
            <div id="d_desc" class="desc">(açıklama yok)</div>
          </div>

          <div class="card">
            <div class="cardTitle">Ham Link</div>
            <div class="linkRow">
              <a id="d_url" target="_blank" rel="noreferrer">Azure DevOps'ta aç</a>
            </div>
            <div class="hint">Not: Bu ekran sadece okuma + not (pool) + yorum amaçlı.</div>
          </div>
        </div>
      </section>

</main>

  <script src="/app.js?v=20260101-reviewassign2"></script>
</body>
</html>
